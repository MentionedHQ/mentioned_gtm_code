___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "Mentioned App",
  "description": "Mentioned is an easy way to track your website mentions in real-time. Track site visits from each link and measure value.",
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/jpeg;base64,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\u003d\u003d",
    "displayName": "mentioned.app",
    "id": "brand_dummy"
  },
  "categories": [
    "ANALYTICS",
    "MARKETING"
  ],
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "displayName": "Host Site",
    "name": "host",
    "type": "TEXT",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "displayName": "Tracking Token",
    "name": "token",
    "type": "TEXT",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const queryPermission = require('queryPermission');
const injectScript = require('injectScript');
const encodeUriComponent = require('encodeUriComponent');
const encodedToken = encodeUriComponent(data.token);
const encodedHost = encodeUriComponent(data.host);

const url = "https://t.mentioned.app/track/" + encodedToken + "/" + encodedHost + "/track_v2.js";

const onSuccess = () => {
  data.gtmOnSuccess();
};

const onFailure = () => {
  data.gtmOnFailure();
};

if (queryPermission('inject_script', url)) {
  injectScript(url, onSuccess, onFailure);
} else {
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://t.mentioned.app/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 12/01/2021, 23:03:19


